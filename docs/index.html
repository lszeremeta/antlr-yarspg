<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <title>YARS-PG 0.5</title>
    <script async class='remove' src='https://www.w3.org/Tools/respec/respec-w3c'></script>
    <script class='remove'>
        var respecConfig = {
            specStatus: "unofficial",
            editors: [
                {
                    name: "≈Åukasz Szeremeta",
                    company: "University of Bialystok",
                    companyURL: "http://uwb.edu.pl",
                    mailto: "l.szeremeta@uwb.edu.pl",
                },
                {
                    name: "Dominik Tomaszuk",
                    company: "University of Bialystok",
                    companyURL: "http://uwb.edu.pl",
                    mailto: "d.tomaszuk@uwb.edu.pl",
                },
                {
                    name: "Renzo Angles",
                    company: "Universidad de Talca and Fundational Reasearch on Data",
                    companyURL: "https://www.utalca.cl",
                    mailto: "rangles@utalca.cl",
                }],
            github: {
                repoURL: "https://github.com/lszeremeta/antlr-yarspg",
                branch: "master",
            },
            shortName: "antlr-yarspg",
        };
    </script>
</head>
<body>
<section id='abstract'>
    <p>
        The YARS-PG serialization was designed to be simple, extensible and platform independent, and to support all the
        features provided by the current database systems based on the property graph data model.
    </p>
</section>
<section id='sotd'>
    <p>
        This is very early draft of YARS-PG specification based on YARS-PG 3.0.
    </p>
</section>
<section id='introduction'>
    <h2>Introduction</h2>
    <p>This document defines YARS-PG, a serialization for property graphs.</p>
    <aside class="example" title='Bibliographic information'>
        <p>The example presents a graphical representation of a property graph that contains bibliographic information.
        <pre>
<"Author01">{"Author"}["fname":"John","lname":"Smith"]
<"Author02">{"Author"}["fname":"Alice","lname":"Brown"]
<"EI01">{"Entry","InProc"}["title":"Serialization for...", "numpages":10,"keyword":"Graph database"]
<"EA01">{"Entry","Article"}["title":"Property Graph...", "numpages":10,"keyword":["Query", "Graph"]]
<"Proc01">{"Proceedings"}["title":"BDAS","year":2018,"month":"May"]
<"Jour01">{"Journal"}["title":"J. DB","year":2020,"vol":30]

("EI01")-{"has_author"}["order":1]->("Author01")
("EI01")-{"has_author"}["order":2]->("Author02")
("EA01")-{"has_author"}["order":1]->("Author02")
("EA01")-{"cites"}->("EI01")
("EI01")-{"booktitle"}["pages":"111-121"]->("Proc01")
("EA01")-{"published_in"}["pages":"222-232"]->("Jour01")
  </pre>
    </aside>
    <p>The YARS-PG serialization supports all the features allowed by the current database systems based on the property
        graph data model, and can be adapted to work with various visualization software, database-driven systems and
        other graph-oriented tools.</p>
</section>
<section id='yarspg-language'>
    <h2>YARS-PG Language</h2>
    <section id='directives'>
        <h2>Directives</h2>
        <p>The YARS-PG serialization contains node declarations and relationship declaration (no order is required for
            them).</p>
    </section>
    <section id='nodes'>
        <h2>Nodes</h2>
        <p>A <dfn>node declaration</dfn> begins with the node identifier, followed by a list of node labels and optional
            properties of the node.</p>
        <aside class="example" title='Node declaration'>
            <p>The example presents node declaration for node <code>EI01</code>. This node have two labels
                (<code>Entry</code> and <code>InProc</code>)
                and three properties (<code>title</code>, <code>numpages</code> and <code>keyword</code>).
            <pre>
<"EI01">{"Entry","InProc"}["title":"Serialization for...", "numpages":10,"keyword":"Graph database"]
  </pre>
        </aside>
    </section>
    <section id='edges'>
        <h2>Edges</h2>
        <p>A <dfn>relationship declaration</dfn> begins with the source node identifier, followed by relationship
            identifier
            (optional), a set of labels, a set of properties (optional) and target node identifier. Relationships can be
            directed (<code>-></code>) or undirected (<code>-</code>).</p>
        <aside class="example" title='Edge declaration'>
            <p>The example presents edge declaration from source node <code>EI01</code> to target node
                <code>Author01</code>. Relationship
                have label <code>has_author</code> and one property (<code>order</code>).
            <pre>
("EI01")-{"has_author"}["order":1]->("Author01")
  </pre>
        </aside>
    </section>
    <section id='properties'>
        <h2>Properties</h2>
        A <dfn>property</dfn> is represented as a pair p:v, where p is the property label and v the property value. A
        property
        value could be atomic (e.g. string, integer, float, null, true, false) or complex (i.e. a list of atomic
        values).</p>
    </section>
</section>
<section class=informative id='examples'>
    <h2>Examples</h2>
</section>
<section id='yarspg-grammar'>
    <h2>YARS-PG Grammar</h2>
    <p>YARS-PG grammar in [[EBNF-NOTATION]] is presented below.</p>

    <pre>
yarspg   ::= ( statement NL+ )+
statement
         ::= declaration
declaration
         ::= nodeDeclaration
           | relationship
nodeDeclaration
         ::= '<' node_id '>' '{' node_label ( ',' node_label )+ '}' ( '[' node_prop ( ',' node_prop )+ ']' )?
relationship
         ::= directed
           | undirected
directed ::= '(' node_id ')' '-' ('<' rel_id '>')? '{' rel_label '}' ( '[' rel_prop ( ',' rel_prop )+ ']' )? '->' '(' node_id ')'
undirected
         ::= '(' node_id ')' '-' ('<' rel_id '>')? '{' rel_label '}' ( '[' rel_prop ( ',' rel_prop )+ ']' )? '-' '(' node_id ')'
node_id  ::= STRING
node_label
         ::= STRING
node_prop
         ::= key ':' value
rel_id   ::= STRING
rel_label
         ::= STRING
rel_prop
         ::= key ':' value
key      ::= STRING
value    ::= single_key_value
           | multiple_key_values
single_key_value
         ::= STRING
           | NUMBER
           | 'null'
           | TRUE_FALSE
multiple_key_values
         ::= '[' single_key_value ( ',' single_key_value )+ ']'
_        ::= SP
          /* ws: definition */

        STRING   ::= STRING_LITERAL_QUOTE
NUMBER   ::= [0-9]+ '.'? [0-9]*
TRUE_FALSE
         ::= 'true' | 'false'
STRING_LITERAL_QUOTE
         ::= '"' ( [^#x0022#x005C#x000A#x000D] | "'" | '\"' )* '"'
SP       ::= [#x0020#x0009]+
NL       ::= #x000D #x000A
    </pre>
</section>
<section class=informative id='parsers'>
    <h2>Parsers</h2>
</section>
</body>
</html>